java.sql.SQLException: Column 'restrict_who_can_vote' not found.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.result.ResultSetImpl.findColumn(ResultSetImpl.java:581)
	at com.mysql.cj.jdbc.result.ResultSetImpl.getBoolean(ResultSetImpl.java:705)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.createElection(StateDbQueriesImpl.kt:111)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.access$createElection(StateDbQueriesImpl.kt:11)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl$searchElectionByName$1.invoke(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl$searchElectionByName$1.invoke(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl$queryZeroOrOneRow$1.invoke(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl$queryZeroOrOneRow$1.invoke(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper$queryZeroOrOneRow$1.invoke(ConnectionWrapper.kt:70)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper$queryZeroOrOneRow$1.invoke(ConnectionWrapper.kt:68)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.query(ConnectionWrapper.kt:16)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryZeroOrOneRow(ConnectionWrapper.kt:68)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.queryZeroOrOneRow(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.queryZeroOrOneRow(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.searchElectionByName(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.failUnlessElectionOwner(ServiceImpl.kt:393)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.updateElection(ServiceImpl.kt:134)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.updateElection(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:112)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection.exec(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateMissingExpectations(RegressionTest.kt:213)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:198)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

java.sql.SQLException: Column 'restrict_who_can_vote' not found.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.result.ResultSetImpl.findColumn(ResultSetImpl.java:581)
	at com.mysql.cj.jdbc.result.ResultSetImpl.getBoolean(ResultSetImpl.java:705)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.createElection(StateDbQueriesImpl.kt:111)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.access$createElection(StateDbQueriesImpl.kt:11)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl$searchElectionByName$1.invoke(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl$searchElectionByName$1.invoke(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl$queryZeroOrOneRow$1.invoke(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl$queryZeroOrOneRow$1.invoke(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper$queryZeroOrOneRow$1.invoke(ConnectionWrapper.kt:70)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper$queryZeroOrOneRow$1.invoke(ConnectionWrapper.kt:68)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.query(ConnectionWrapper.kt:16)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryZeroOrOneRow(ConnectionWrapper.kt:68)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.queryZeroOrOneRow(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.queryZeroOrOneRow(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.searchElectionByName(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.deleteElection(ServiceImpl.kt:152)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$deleteElection$1.invoke(ServiceDelegateToLifecycle.kt:56)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$deleteElection$1.invoke(ServiceDelegateToLifecycle.kt:56)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.deleteElection(ServiceDelegateToLifecycle.kt:56)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$DeleteElection$exec$1.invoke(ServiceCommand.kt:128)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$DeleteElection$exec$1.invoke(ServiceCommand.kt:127)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$DeleteElection.exec(ServiceCommand.kt:127)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateMissingExpectations(RegressionTest.kt:213)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:198)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

java.sql.SQLException: election-select
select user.name as owner,
       election.name,
       election.secret_ballot,
       election.no_voting_before,
       election.no_voting_after,
       election.restrict_who_can_vote,
       election.owner_can_delete_ballots,
       election.auditor_can_delete_ballots,
       election.is_template,
       election.allow_edit,
       election.allow_vote
from election
         inner join user on election.owner_id = user.id

Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:157)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryList(ConnectionWrapper.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.query(GenericDatabaseImpl.kt:39)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.query(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.listElections(StateDbQueriesImpl.kt:52)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.listElections(ServiceImpl.kt:165)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.listElections(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:136)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections.exec(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateMissingExpectations(RegressionTest.kt:213)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:198)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:154)
	... 50 more

java.sql.SQLException: Column 'restrict_who_can_vote' not found.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.result.ResultSetImpl.findColumn(ResultSetImpl.java:581)
	at com.mysql.cj.jdbc.result.ResultSetImpl.getBoolean(ResultSetImpl.java:705)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.createElection(StateDbQueriesImpl.kt:111)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.access$createElection(StateDbQueriesImpl.kt:11)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl$searchElectionByName$1.invoke(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl$searchElectionByName$1.invoke(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl$queryZeroOrOneRow$1.invoke(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl$queryZeroOrOneRow$1.invoke(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper$queryZeroOrOneRow$1.invoke(ConnectionWrapper.kt:70)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper$queryZeroOrOneRow$1.invoke(ConnectionWrapper.kt:68)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.query(ConnectionWrapper.kt:16)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryZeroOrOneRow(ConnectionWrapper.kt:68)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.queryZeroOrOneRow(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.queryZeroOrOneRow(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.searchElectionByName(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.failUnlessElectionOwner(ServiceImpl.kt:393)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.updateElection(ServiceImpl.kt:134)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.updateElection(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:112)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection.exec(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateActual(RegressionTest.kt:219)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:201)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

java.sql.SQLException: Column 'restrict_who_can_vote' not found.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.result.ResultSetImpl.findColumn(ResultSetImpl.java:581)
	at com.mysql.cj.jdbc.result.ResultSetImpl.getBoolean(ResultSetImpl.java:705)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.createElection(StateDbQueriesImpl.kt:111)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.access$createElection(StateDbQueriesImpl.kt:11)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl$searchElectionByName$1.invoke(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl$searchElectionByName$1.invoke(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl$queryZeroOrOneRow$1.invoke(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl$queryZeroOrOneRow$1.invoke(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper$queryZeroOrOneRow$1.invoke(ConnectionWrapper.kt:70)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper$queryZeroOrOneRow$1.invoke(ConnectionWrapper.kt:68)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.query(ConnectionWrapper.kt:16)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryZeroOrOneRow(ConnectionWrapper.kt:68)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.queryZeroOrOneRow(GenericDatabaseImpl.kt:25)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.queryZeroOrOneRow(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.searchElectionByName(StateDbQueriesImpl.kt:61)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.deleteElection(ServiceImpl.kt:152)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$deleteElection$1.invoke(ServiceDelegateToLifecycle.kt:56)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$deleteElection$1.invoke(ServiceDelegateToLifecycle.kt:56)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.deleteElection(ServiceDelegateToLifecycle.kt:56)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$DeleteElection$exec$1.invoke(ServiceCommand.kt:128)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$DeleteElection$exec$1.invoke(ServiceCommand.kt:127)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$DeleteElection.exec(ServiceCommand.kt:127)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateActual(RegressionTest.kt:219)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:201)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

java.sql.SQLException: election-select
select user.name as owner,
       election.name,
       election.secret_ballot,
       election.no_voting_before,
       election.no_voting_after,
       election.restrict_who_can_vote,
       election.owner_can_delete_ballots,
       election.auditor_can_delete_ballots,
       election.is_template,
       election.allow_edit,
       election.allow_vote
from election
         inner join user on election.owner_id = user.id

Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:157)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryList(ConnectionWrapper.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.query(GenericDatabaseImpl.kt:39)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.query(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.listElections(StateDbQueriesImpl.kt:52)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.listElections(ServiceImpl.kt:165)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.listElections(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:136)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections.exec(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateActual(RegressionTest.kt:219)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:201)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:154)
	... 50 more

java.sql.SQLException: election-update-restrict-who-can-vote
update
    election
set restrict_who_can_vote = 1
where name = 'Favorite Ice Cream Flavor'

Unknown column 'restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeUpdate(ConnectionWrapper.kt:147)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.update(ConnectionWrapper.kt:90)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.update(GenericDatabaseImpl.kt:53)
	at com.seanshubin.condorcet.backend.database.StateDbCommandsImpl.update(StateDbCommandsImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbCommandsImpl.updateElection(StateDbCommandsImpl.kt:57)
	at com.seanshubin.condorcet.backend.database.DbEvent$UpdateElection.exec(DbEvent.kt:38)
	at com.seanshubin.condorcet.backend.database.SynchronizerImpl.synchronizeEventRow(SynchronizerImpl.kt:22)
	at com.seanshubin.condorcet.backend.database.SynchronizerImpl.synchronize(SynchronizerImpl.kt:16)
	at com.seanshubin.condorcet.backend.database.EventDbCommandsImpl.addEvent(EventDbCommandsImpl.kt:19)
	at com.seanshubin.condorcet.backend.database.SyncDbCommands.processEvent(SyncDbCommands.kt:66)
	at com.seanshubin.condorcet.backend.database.SyncDbCommands.updateElection(SyncDbCommands.kt:34)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.updateElection(ServiceImpl.kt:136)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.updateElection(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:112)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection.exec(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateMissingExpectations(RegressionTest.kt:213)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:198)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeUpdate(ConnectionWrapper.kt:144)
	... 56 more

java.sql.SQLException: election-select
select user.name as owner,
       election.name,
       election.secret_ballot,
       election.no_voting_before,
       election.no_voting_after,
       election.restrict_who_can_vote,
       election.owner_can_delete_ballots,
       election.auditor_can_delete_ballots,
       election.is_template,
       election.allow_edit,
       election.allow_vote
from election
         inner join user on election.owner_id = user.id

Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:157)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryList(ConnectionWrapper.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.query(GenericDatabaseImpl.kt:39)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.query(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.listElections(StateDbQueriesImpl.kt:52)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.listElections(ServiceImpl.kt:165)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.listElections(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:136)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections.exec(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateMissingExpectations(RegressionTest.kt:213)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:198)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:154)
	... 50 more

java.sql.SQLException: election-update-restrict-who-can-vote
update
    election
set restrict_who_can_vote = 1
where name = 'Favorite Ice Cream Flavor'

Unknown column 'restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeUpdate(ConnectionWrapper.kt:147)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.update(ConnectionWrapper.kt:90)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.update(GenericDatabaseImpl.kt:53)
	at com.seanshubin.condorcet.backend.database.StateDbCommandsImpl.update(StateDbCommandsImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbCommandsImpl.updateElection(StateDbCommandsImpl.kt:57)
	at com.seanshubin.condorcet.backend.database.DbEvent$UpdateElection.exec(DbEvent.kt:38)
	at com.seanshubin.condorcet.backend.database.SynchronizerImpl.synchronizeEventRow(SynchronizerImpl.kt:22)
	at com.seanshubin.condorcet.backend.database.SynchronizerImpl.synchronize(SynchronizerImpl.kt:16)
	at com.seanshubin.condorcet.backend.database.EventDbCommandsImpl.addEvent(EventDbCommandsImpl.kt:19)
	at com.seanshubin.condorcet.backend.database.SyncDbCommands.processEvent(SyncDbCommands.kt:66)
	at com.seanshubin.condorcet.backend.database.SyncDbCommands.updateElection(SyncDbCommands.kt:34)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.updateElection(ServiceImpl.kt:136)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.updateElection(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:112)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection.exec(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateActual(RegressionTest.kt:219)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:201)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeUpdate(ConnectionWrapper.kt:144)
	... 56 more

java.sql.SQLException: election-select
select user.name as owner,
       election.name,
       election.secret_ballot,
       election.no_voting_before,
       election.no_voting_after,
       election.restrict_who_can_vote,
       election.owner_can_delete_ballots,
       election.auditor_can_delete_ballots,
       election.is_template,
       election.allow_edit,
       election.allow_vote
from election
         inner join user on election.owner_id = user.id

Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:157)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryList(ConnectionWrapper.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.query(GenericDatabaseImpl.kt:39)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.query(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.listElections(StateDbQueriesImpl.kt:52)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.listElections(ServiceImpl.kt:165)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.listElections(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:136)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections.exec(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateActual(RegressionTest.kt:219)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:201)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:154)
	... 50 more

java.lang.RuntimeException: Resource named 'com/seanshubin/condorcet/backend/database/election-update-restrict-who-can-vote.sql' not found
	at com.seanshubin.condorcet.backend.genericdb.QueryLoaderFromResource.load(QueryLoaderFromResource.kt:13)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.update(GenericDatabaseImpl.kt:52)
	at com.seanshubin.condorcet.backend.database.StateDbCommandsImpl.update(StateDbCommandsImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbCommandsImpl.updateElection(StateDbCommandsImpl.kt:57)
	at com.seanshubin.condorcet.backend.database.DbEvent$UpdateElection.exec(DbEvent.kt:38)
	at com.seanshubin.condorcet.backend.database.SynchronizerImpl.synchronizeEventRow(SynchronizerImpl.kt:22)
	at com.seanshubin.condorcet.backend.database.SynchronizerImpl.synchronize(SynchronizerImpl.kt:16)
	at com.seanshubin.condorcet.backend.database.EventDbCommandsImpl.addEvent(EventDbCommandsImpl.kt:19)
	at com.seanshubin.condorcet.backend.database.SyncDbCommands.processEvent(SyncDbCommands.kt:66)
	at com.seanshubin.condorcet.backend.database.SyncDbCommands.updateElection(SyncDbCommands.kt:34)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.updateElection(ServiceImpl.kt:136)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.updateElection(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:112)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection.exec(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateMissingExpectations(RegressionTest.kt:213)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:198)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

java.sql.SQLException: election-select
select user.name as owner,
       election.name,
       election.secret_ballot,
       election.no_voting_before,
       election.no_voting_after,
       election.restrict_who_can_vote,
       election.owner_can_delete_ballots,
       election.auditor_can_delete_ballots,
       election.is_template,
       election.allow_edit,
       election.allow_vote
from election
         inner join user on election.owner_id = user.id

Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:157)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryList(ConnectionWrapper.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.query(GenericDatabaseImpl.kt:39)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.query(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.listElections(StateDbQueriesImpl.kt:52)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.listElections(ServiceImpl.kt:165)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.listElections(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:136)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections.exec(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateMissingExpectations(RegressionTest.kt:213)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:198)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:154)
	... 50 more

java.lang.RuntimeException: Resource named 'com/seanshubin/condorcet/backend/database/election-update-restrict-who-can-vote.sql' not found
	at com.seanshubin.condorcet.backend.genericdb.QueryLoaderFromResource.load(QueryLoaderFromResource.kt:13)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.update(GenericDatabaseImpl.kt:52)
	at com.seanshubin.condorcet.backend.database.StateDbCommandsImpl.update(StateDbCommandsImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbCommandsImpl.updateElection(StateDbCommandsImpl.kt:57)
	at com.seanshubin.condorcet.backend.database.DbEvent$UpdateElection.exec(DbEvent.kt:38)
	at com.seanshubin.condorcet.backend.database.SynchronizerImpl.synchronizeEventRow(SynchronizerImpl.kt:22)
	at com.seanshubin.condorcet.backend.database.SynchronizerImpl.synchronize(SynchronizerImpl.kt:16)
	at com.seanshubin.condorcet.backend.database.EventDbCommandsImpl.addEvent(EventDbCommandsImpl.kt:19)
	at com.seanshubin.condorcet.backend.database.SyncDbCommands.processEvent(SyncDbCommands.kt:66)
	at com.seanshubin.condorcet.backend.database.SyncDbCommands.updateElection(SyncDbCommands.kt:34)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.updateElection(ServiceImpl.kt:136)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$updateElection$1.invoke(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.updateElection(ServiceDelegateToLifecycle.kt:49)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:112)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection$exec$1.invoke(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$UpdateElection.exec(ServiceCommand.kt:110)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateActual(RegressionTest.kt:219)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:201)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

java.sql.SQLException: election-select
select user.name as owner,
       election.name,
       election.secret_ballot,
       election.no_voting_before,
       election.no_voting_after,
       election.restrict_who_can_vote,
       election.owner_can_delete_ballots,
       election.auditor_can_delete_ballots,
       election.is_template,
       election.allow_edit,
       election.allow_vote
from election
         inner join user on election.owner_id = user.id

Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:157)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryList(ConnectionWrapper.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.query(GenericDatabaseImpl.kt:39)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.query(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.listElections(StateDbQueriesImpl.kt:52)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.listElections(ServiceImpl.kt:165)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.listElections(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:136)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections.exec(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateActual(RegressionTest.kt:219)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:201)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:154)
	... 50 more

java.sql.SQLException: election-select
select user.name as owner,
       election.name,
       election.secret_ballot,
       election.no_voting_before,
       election.no_voting_after,
       election.restrict_who_can_vote,
       election.owner_can_delete_ballots,
       election.auditor_can_delete_ballots,
       election.is_template,
       election.allow_edit,
       election.allow_vote
from election
         inner join user on election.owner_id = user.id

Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:157)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryList(ConnectionWrapper.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.query(GenericDatabaseImpl.kt:39)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.query(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.listElections(StateDbQueriesImpl.kt:52)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.listElections(ServiceImpl.kt:165)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.listElections(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:136)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections.exec(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateMissingExpectations(RegressionTest.kt:213)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:198)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:154)
	... 50 more

java.sql.SQLException: election-select
select user.name as owner,
       election.name,
       election.secret_ballot,
       election.no_voting_before,
       election.no_voting_after,
       election.restrict_who_can_vote,
       election.owner_can_delete_ballots,
       election.auditor_can_delete_ballots,
       election.is_template,
       election.allow_edit,
       election.allow_vote
from election
         inner join user on election.owner_id = user.id

Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:157)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.queryList(ConnectionWrapper.kt:25)
	at com.seanshubin.condorcet.backend.genericdb.GenericDatabaseImpl.query(GenericDatabaseImpl.kt:39)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.query(StateDbQueriesImpl.kt)
	at com.seanshubin.condorcet.backend.database.StateDbQueriesImpl.listElections(StateDbQueriesImpl.kt:52)
	at com.seanshubin.condorcet.backend.service.ServiceImpl.listElections(ServiceImpl.kt:165)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$listElections$1.invoke(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:122)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:120)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle$withService$1.invoke(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.genericdb.TransactionalConnectionLifecycle.withValue(TransactionalConnectionLifecycle.kt:20)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.withService(ServiceDelegateToLifecycle.kt:119)
	at com.seanshubin.condorcet.backend.service.ServiceDelegateToLifecycle.listElections(ServiceDelegateToLifecycle.kt:60)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:136)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections$exec$1.invoke(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.requireAccessToken(ServiceCommand.kt:477)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$Companion.access$requireAccessToken(ServiceCommand.kt:408)
	at com.seanshubin.condorcet.backend.service.http.ServiceCommand$ListElections.exec(ServiceCommand.kt:135)
	at com.seanshubin.condorcet.backend.server.ApiHandler.exec(ApiHandler.kt:54)
	at com.seanshubin.condorcet.backend.server.ApiHandler.handle(ApiHandler.kt:42)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.handleCommand(RegressionTestRunner.kt:27)
	at com.seanshubin.condorcet.backend.console.RegressionTestRunner.run(RegressionTestRunner.kt:16)
	at com.seanshubin.condorcet.backend.console.RegressionTest$Tester.generateActual(RegressionTest.kt:219)
	at com.seanshubin.condorcet.backend.console.RegressionTest.tryTypicalPathForEveryApiCallAtLeastOnce(RegressionTest.kt:201)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'election.restrict_who_can_vote' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)
	at com.seanshubin.condorcet.backend.genericdb.ConnectionWrapper.executeQuery(ConnectionWrapper.kt:154)
	... 50 more

